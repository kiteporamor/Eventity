# Tracing, Monitoring, and Logging Report

This report is generated by running `scripts/measure_resources.sh`. It compares
resource usage for four scenarios (tracing on/off, default/extended logging).

## How to run

```bash
./scripts/measure_resources.sh "dotnet test src/Eventity.Tests.Unit/Eventity.Tests.Unit.csproj"
```

The script uses `/usr/bin/time -v`, so it is intended for Linux (CI/CD).

For benchmark runs, replace the command with your benchmark entry point, for example:

```bash
./scripts/measure_resources.sh "docker-compose -f docker-compose.yml up --build --abort-on-container-exit"
```

## Configuration switches

- `OpenTelemetry__Enabled=true|false` toggles tracing/metrics.
- `OpenTelemetry__Exporter=Console|Otlp` selects exporter type.
- `OpenTelemetry__OtlpEndpoint=http://localhost:4317` configures OTLP endpoint.
- `Logging__Mode=Default|Extended` controls logging verbosity and request logging.

## Resource comparison table

| Scenario | User time (s) | System time (s) | Max RSS (KB) |
| --- | --- | --- | --- |
| trace_off_default_logging | n/a | n/a | n/a |
| trace_on_default_logging | n/a | n/a | n/a |
| trace_off_extended_logging | n/a | n/a | n/a |
| trace_on_extended_logging | n/a | n/a | n/a |

## Scenario descriptions

1. `trace_off_default_logging` – tracing/metrics disabled, default logging.
2. `trace_on_default_logging` – tracing/metrics enabled, default logging.
3. `trace_off_extended_logging` – tracing/metrics disabled, extended logging.
4. `trace_on_extended_logging` – tracing/metrics enabled, extended logging.

## Output artifacts

- Resource report: `artifacts/resource/resource-report.md`
- OpenTelemetry output (Console exporter): `artifacts/resource/*_otel.log`

CI/CD should upload the `artifacts/resource` directory to keep monitoring data
from test and benchmark runs.
